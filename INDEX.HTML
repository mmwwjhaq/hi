<!DOCTYPE html > n < html > n < head > n t < meta charset = " utf-8 " name = " viewport " content = " width = device-width，initial-scale=1，maximum-scale=1，user-scalable=no "> n t<title >黑客帝国代码雨特效v 1.0 </title > n </head > n < body > t n t < canvas id = " canvas " style = " background:black " width = " 620 " height = " 340 " > </canvas > n < audio style = " display:none；高度:0 " id = " BG-music " preload = " auto " src = " music/黑客帝国. MP3 " > </audio > n < style type = " text/CSS " > nbody { margin:0；填充:0；溢出:隐藏；} n </style > n < script type = " text/JavaScript " > n t n twin Dow . onload = function(){ n t t//获取图形对象n t tvar canvas = document . getelementbyid(" canvas ")；n t t//获取图形的上下文n t tvar context = canvas . get context(" 2d ")；n t t//获取浏览器屏幕的宽度和高度n t tvar W = window.innerWidthn t tvar H = window.innerHeightn t t//设置帆布的宽度和高度n t tcan vas . width = W；n t tcan vas . height = H；n t t//每个文字的字体大小n t tvar fontSize = 15n t t//计算列n t tvar columns = math . floor(W/font size)；t n t t//记录每列文字的y轴坐标n t tvar drops =[]；n t t//给每一个文字初始化一个起始点的位置n t tfor(var I = 0；i < colunmsi++){ n t t tdrops . push(0)；n t t} n t t//运动的文字n t tvar str = " 0123456789n t t//4:fillText(str，x，y)；原理就是去更改y的坐标位置n t t//绘画的函数函数draw(){ n t t//让背景逐渐由透明到不透明n t t tcontext.fillStyle = "rgba(0，0，0，0.05)"；n t t tcontext.fillRect(0，0，W，H)；n t t t//给字体设置样式n t t t//context . font = " 700 "+font size+" px微软雅黑 ";n t t t context . font = font size+' px arial '；n t t t//给字体添加颜色n t t t context . fill style = " green "；//随意更改字体颜色n t t t//写入图形中n t t t for(var I = 0；i < colunmsi++){ n t t t tvar index = math . floor(math . random()* str . length)；n t t t tvar x = i * fontSizen t t t tvar y = drops[I]* font size；n t t t t context . fill text(str[index]，x，y)；n t t t t//如果要改变时间,肯定就是改变每次他的起点n t t t TIF(y > = canvas . height & & math . random()> 0.92){ n t t t t t drops[I]= 0；n t t t t } n t t t t drops[I]++；n t t t } n t t }n t t function rand color(){ n t t tvar r = math . floor(math . random()* 256)；n t t tvar g = math . floor(math . random()* 256)；n t t tvar b = math . floor(math . random()* 256)；n t t treturn "rgb( "+r+"，"+g+"，"+b+")；n t t } n t tdraw()；n t tsetInterval(平局，33)；n t }；n</script> n </body> n</html >
